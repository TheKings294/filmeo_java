<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>

<nav class="w-full bg-black border-b border-neutral-800">
    <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">

        <!-- Left: Logo + Links -->
        <div class="flex items-center gap-10">

            <!-- Logo -->
            <a th:href="@{/}" class="flex items-center gap-2">
                <span class="text-red-600 text-2xl">üéûÔ∏è</span>
                <span class="text-white text-xl font-bold">CineStream</span>
            </a>

            <!-- Navigation links -->
            <div class="hidden md:flex items-center gap-6 text-sm">
                <a th:href="@{/}"
                   th:classappend="${currentPath == '/' ? 'text-white font-semibold' : 'text-gray-400'}"
                   class="hover:text-gray-300 transition">
                    Home
                </a>
                <a th:href="@{/movies}"
                   th:classappend="${#strings.contains(currentPath, '/movies') ? 'text-white font-semibold' : 'text-gray-400'}"
                   class="hover:text-white transition">
                    Movies
                </a>
                <a th:href="@{/series}"
                   th:classappend="${#strings.contains(currentPath, '/series') ? 'text-white font-semibold' : 'text-gray-400'}"
                   class="hover:text-white transition">
                    Series
                </a>
                <a sec:authorize="isAuthenticated() and hasAuthority('USER')"
                   th:href="@{/mywhatchlist}"
                    th:classappend="${#strings.contains(currentPath, '/mywhatchlist') ? 'text-white font-semibold' : 'text-gray-400'}"
                    class="hover:text-white transition">
                    My WatchList
                </a>
            </div>
        </div>

        <!-- Center: Search -->
        <div class="flex-1 max-w-xl mx-8 hidden lg:block">
            <div class="relative">
                <input
                        type="text"
                        placeholder="Search movies & series..."
                        class="w-full bg-neutral-900 border border-neutral-700 rounded-xl py-3 pl-11 pr-4 text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-600"
                />
                <span class="absolute left-4 top-3.5 text-gray-500">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </span>
            </div>
        </div>

        <!-- Right: Login -->
        <div>
            <a th:href="@{/login}"
               sec:authorize="!isAuthenticated()"
               class="bg-red-600 hover:bg-red-700 transition text-white px-6 py-2.5 rounded-xl font-semibold text-sm">
                Login
            </a>
            <a th:href="@{/admin}"
               sec:authorize="isAuthenticated() and hasAuthority('ADMIN')"
               class="bg-red-600 hover:bg-red-700 transition text-white px-6 py-2.5 rounded-xl font-semibold text-sm mr-4">
                Admin
            </a>
            <a sec:authorize="isAuthenticated()"
                class="bg-neutral-900 border border-neutral-700 rounded-xl transition text-white px-6 py-2.5 rounded-xl text-sm mr-4">
                <span sec:authentication="name"></span>
            </a>
            <a th:href="@{/logout}"
               sec:authorize="isAuthenticated()"
               class="bg-neutral-900 border border-neutral-700 rounded-xl transition text-white px-6 py-2.5 rounded-xl text-sm">
                <i class="fa-solid fa-arrow-right-from-bracket"></i>
            </a>
        </div>

    </div>
</nav>

</body>
</html>
